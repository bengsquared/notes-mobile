(()=>{var e={};e.id=974,e.ids=[974],e.modules={808:(e,t,a)=>{Promise.resolve().then(a.bind(a,5851))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2537:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=a(4332),r=a(8819),n=a(7851),l=a.n(n),i=a(7540),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,5851)),"/Users/ben/Documents/notes-mobile/packages/web/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,4356)),"/Users/ben/Documents/notes-mobile/packages/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,2341,23)),"next/dist/client/components/unauthorized-error"]}],d=["/Users/ben/Documents/notes-mobile/packages/web/app/page.tsx"],x={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3210:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>L});var s=a(3486),r=a(159),n=a(5984),l=a(7499);let i=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));i.displayName="Textarea";var o=a(4246),c=a(4667);let d=(0,c.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),x=(0,c.A)("MapPinOff",[["path",{d:"M12.75 7.09a3 3 0 0 1 2.16 2.16",key:"1d4wjd"}],["path",{d:"M17.072 17.072c-1.634 2.17-3.527 3.912-4.471 4.727a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 1.432-4.568",key:"12yil7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.475 2.818A8 8 0 0 1 20 10c0 1.183-.31 2.377-.81 3.533",key:"lhrkcz"}],["path",{d:"M9.13 9.13a3 3 0 0 0 3.74 3.74",key:"13wojd"}]]),m=(0,c.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),h=(0,c.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),p=(0,c.A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),u=(0,c.A)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),g=(0,c.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var f=a(6179);function y({onNoteCreated:e,editingNote:t,onEditComplete:a}){let[l,c]=(0,r.useState)(""),[y,v]=(0,r.useState)(!1),[j,N]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[k,C]=(0,r.useState)("unknown"),[A,$]=(0,r.useState)([]),M=(0,r.useRef)(null),z=(0,r.useRef)(null),E=()=>{if(!navigator.geolocation){C("unavailable");return}C("requesting"),navigator.geolocation.getCurrentPosition(e=>{w({lat:e.coords.latitude,lng:e.coords.longitude}),C("granted")},e=>{console.log("Location error:",e.message),C("denied"),t||w(null)},{enableHighAccuracy:!1,timeout:15e3,maximumAge:3e5})},S=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),a=[];t.ondataavailable=e=>{a.push(e.data)},t.onstop=()=>{let t=new Blob(a,{type:"audio/webm"}),s=new FileReader;s.onload=e=>{let t=e.target?.result;$(e=>[...e,{type:"audio",data:t,name:`audio-${Date.now()}.webm`}])},s.readAsDataURL(t),e.getTracks().forEach(e=>e.stop())},N(t),t.start(),v(!0)}catch(e){console.error("Error starting audio recording:",e)}},R=e=>{$(t=>t.filter((t,a)=>a!==e))};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(o.Zp,{children:(0,s.jsxs)(o.Wu,{className:"p-4 space-y-4",children:[(0,s.jsx)(i,{placeholder:"What's on your mind?",value:l,onChange:e=>c(e.target.value),className:"min-h-32 resize-none border-0 p-0 text-base focus-visible:ring-0"}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>M.current?.click(),className:"flex items-center gap-1",children:[(0,s.jsx)(h,{className:"w-4 h-4"}),"Photo"]}),(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>z.current?.click(),className:"flex items-center gap-1",children:[(0,s.jsx)(p,{className:"w-4 h-4"}),"Video"]}),(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:y?()=>{j&&(j.stop(),N(null),v(!1))}:S,className:`flex items-center gap-1 ${y?"bg-red-100 text-red-700":""}`,children:[(0,s.jsx)(u,{className:"w-4 h-4"}),y?"Stop":"Audio"]}),(()=>{switch(k){case"requesting":return(0,s.jsxs)(n.$,{variant:"outline",size:"sm",disabled:!0,className:"flex items-center gap-1",children:[(0,s.jsx)(d,{className:"w-4 h-4 animate-pulse"}),"Getting location..."]});case"granted":return(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:E,className:"flex items-center gap-1 bg-green-50 text-green-700 border-green-200",children:[(0,s.jsx)(d,{className:"w-4 h-4"}),"Update location"]});case"denied":return(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:E,className:"flex items-center gap-1 bg-orange-50 text-orange-700 border-orange-200",children:[(0,s.jsx)(x,{className:"w-4 h-4"}),"Try location again"]});case"unavailable":return(0,s.jsxs)(n.$,{variant:"outline",size:"sm",disabled:!0,className:"flex items-center gap-1 bg-gray-50 text-gray-500",children:[(0,s.jsx)(m,{className:"w-4 h-4"}),"Location unavailable"]});default:return(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:E,className:"flex items-center gap-1",children:[(0,s.jsx)(d,{className:"w-4 h-4"}),"Add location"]})}})()]}),(()=>{switch(k){case"requesting":return(0,s.jsxs)("div",{className:"text-sm text-blue-600 bg-blue-50 p-2 rounded flex items-center gap-2",children:[(0,s.jsx)(d,{className:"w-4 h-4 animate-pulse"}),(0,s.jsx)("span",{children:"Requesting your location..."})]});case"granted":return b?(0,s.jsxs)("div",{className:"text-sm text-green-600 bg-green-50 p-2 rounded flex items-center gap-2",children:[(0,s.jsx)(d,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Location captured: ",b.lat.toFixed(4),", ",b.lng.toFixed(4)]})]}):null;case"denied":return(0,s.jsxs)("div",{className:"text-sm text-orange-600 bg-orange-50 p-2 rounded flex items-center gap-2",children:[(0,s.jsx)(x,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Location access denied. You can try again or save without location."})]});case"unavailable":return(0,s.jsxs)("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded flex items-center gap-2",children:[(0,s.jsx)(m,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Location services are not available on this device."})]});default:return null}})(),A.length>0&&(0,s.jsx)("div",{className:"space-y-2",children:A.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 p-2 rounded",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:["photo"===e.type&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h,{className:"w-4 h-4"}),(0,s.jsx)("img",{src:e.data||"/placeholder.svg",alt:"Preview",className:"w-8 h-8 object-cover rounded"}),(0,s.jsx)("span",{className:"text-sm",children:"Photo"})]}),"video"===e.type&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p,{className:"w-4 h-4"}),(0,s.jsx)("video",{src:e.data,className:"w-8 h-8 object-cover rounded"}),(0,s.jsx)("span",{className:"text-sm",children:"Video"})]}),"audio"===e.type&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm",children:"Audio Recording"})]})]}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>R(t),className:"text-red-600 hover:text-red-700",children:"Remove"})]},t))}),(0,s.jsxs)(n.$,{onClick:()=>{if(l.trim()||0!==A.length){if(t){let e={...t,text:l.trim(),attachments:A,location:b};(0,f.w3)(e),a?.()}else{let t={text:l.trim(),attachments:A,location:b,createdAt:new Date().toISOString()};(0,f.Cq)(t),e()}c(""),$([]),w(null),C("unknown")}},disabled:!l.trim()&&0===A.length,className:"w-full flex items-center gap-2",children:[(0,s.jsx)(g,{className:"w-4 h-4"}),t?"Update Note":"Save Note"]}),t&&(0,s.jsx)(n.$,{variant:"outline",onClick:()=>{c(""),$([]),w(null),C("unknown"),a?.()},className:"w-full flex items-center gap-2",children:"Cancel Edit"})]})}),(0,s.jsx)("input",{ref:M,type:"file",accept:"image/*",capture:"environment",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onload=e=>{let a=e.target?.result;$(e=>[...e,{type:"photo",data:a,name:t.name}])},e.readAsDataURL(t)}},className:"hidden"}),(0,s.jsx)("input",{ref:z,type:"file",accept:"video/*",capture:"environment",onChange:e=>{let t=e.target.files?.[0];if(t){let e=new FileReader;e.onload=e=>{let a=e.target?.result;$(e=>[...e,{type:"video",data:a,name:t.name}])},e.readAsDataURL(t)}},className:"hidden"})]})}let v=(0,c.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),j=(0,c.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function N(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(null),i=e=>{l(e.id)},c=()=>{l(null),t((0,f.rE)())},x=e=>{(0,f.Iy)(e),t((0,f.rE)())},m=e=>{let t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};if(0===e.length)return(0,s.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,s.jsx)("p",{children:"No notes yet. Create your first note!"})});if(a){let t=e.find(e=>e.id===a);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Edit Note"}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>l(null),children:"Back to List"})]}),(0,s.jsx)(y,{onNoteCreated:c,editingNote:t,onEditComplete:c})]})}return(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,s.jsx)(o.Zp,{children:(0,s.jsxs)(o.Wu,{className:"p-4",children:[e.text&&(0,s.jsx)("p",{className:"text-gray-900 mb-3 whitespace-pre-wrap",children:e.text}),e.attachments.length>0&&(0,s.jsx)("div",{className:"space-y-2 mb-3",children:e.attachments.map((e,t)=>(0,s.jsxs)("div",{className:"border rounded p-2",children:["photo"===e.type&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(h,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Photo"})]}),(0,s.jsx)("img",{src:e.data||"/placeholder.svg",alt:"Note attachment",className:"max-w-full h-auto rounded"})]}),"video"===e.type&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(p,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Video"})]}),(0,s.jsx)("video",{src:e.data,controls:!0,className:"max-w-full h-auto rounded"})]}),"audio"===e.type&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(u,{className:"w-4 h-4"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Audio Recording"})]}),(0,s.jsx)("audio",{src:e.data,controls:!0,className:"w-full"})]})]},t))}),e.location&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-3",children:[(0,s.jsx)(d,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[e.location.lat.toFixed(6),", ",e.location.lng.toFixed(6)]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[(0,s.jsx)("span",{className:"text-sm text-gray-500",children:m(e.createdAt)}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>i(e),className:"text-blue-600 hover:text-blue-700",children:(0,s.jsx)(v,{className:"w-4 h-4"})}),(0,s.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>x(e.id),className:"text-red-600 hover:text-red-700",children:(0,s.jsx)(j,{className:"w-4 h-4"})})]})]})]})},e.id))})}var b=a(1865),w=a(8949);let k=(0,c.A)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),C=(0,c.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var A=a(5577),$=a(3821);let M=(0,c.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);function z(){let[e,t]=(0,r.useState)(!1),[l,i]=(0,r.useState)(0),[c,d]=(0,r.useState)(!1),x=e=>e.replace(/[<>:"/\\|?*\x00-\x1f]/g,"").replace(/\s+/g,"_").trim(),m=e=>{let t=e.text.slice(0,30).trim()||"note",a=new Date(e.createdAt),s=a.toISOString().split("T")[0],r=a.toTimeString().split(" ")[0].replace(/:/g,"-");return x(`${t}_${s}_${r}`)},h=(e,t,a)=>{let s=`${e}${t}`,r=1;for(;a.has(s);)s=`${e}_${r}${t}`,r++;return a.add(s),s},p=e=>{let t=e.split(","),a=t[0].match(/:(.*?);/)?.[1]||"",s=atob(t[1]),r=s.length,n=new Uint8Array(r);for(let e=0;e<r;++e)n[e]=s.charCodeAt(e);return new Blob([n],{type:a})},u=e=>{switch(e.type){case"photo":return".jpg";case"video":return".mp4";case"audio":return".webm";default:return".bin"}},g=e=>{let t=e.text||"(No text content)";t+="\n\n"+"=".repeat(50)+"\n",t+="NOTE METADATA\n",t+="=".repeat(50)+"\n";let a=new Date(e.createdAt);return t+=`Created: ${a.toLocaleDateString()} at ${a.toLocaleTimeString()}
`,e.location?(t+=`Location: ${e.location.lat.toFixed(6)}, ${e.location.lng.toFixed(6)}
`,t+=`Google Maps: https://maps.google.com/?q=${e.location.lat},${e.location.lng}
`):t+="Location: Not captured\n",e.attachments.length>0?(t+=`
Attachments (${e.attachments.length}):
`,e.attachments.forEach((e,a)=>{t+=`- ${e.type} file: ${e.name}
`})):t+="\nAttachments: None\n",t},y=async()=>{t(!0),i(0),d(!1);try{let e=(0,f.rE)();if(0===e.length){alert("No notes to export!"),t(!1);return}let s=new(await a.e(551).then(a.t.bind(a,7551,23))).default,r=new Set,n=0;for(let t of e){let a=m(t),l=g(t),o=h(a,".txt",r);s.file(o,l),t.attachments.forEach((e,t)=>{let n=u(e),l=h(`${a}_${e.type}_${t+1}`,n,r);try{let t=p(e.data);s.file(l,t)}catch(t){console.error(`Failed to process attachment ${e.name}:`,t)}}),n++,i(n/e.length*90)}i(95);let l=await s.generateAsync({type:"blob"});i(100);let o=URL.createObjectURL(l),c=document.createElement("a");c.href=o,c.download=`notes_export_${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL(o),d(!0)}catch(e){console.error("Export failed:",e),alert("Export failed. Please try again.")}finally{t(!1)}};return(0,s.jsxs)(o.Zp,{children:[(0,s.jsx)(o.aR,{children:(0,s.jsxs)(o.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(k,{className:"w-5 h-5"}),"Export Notes"]})}),(0,s.jsxs)(o.Wu,{className:"space-y-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Download all your notes as organized text files with media attachments in a ZIP archive."}),(0,s.jsxs)("div",{className:"bg-blue-50 p-3 rounded space-y-1 text-sm",children:[(0,s.jsx)("p",{className:"font-medium",children:"Export includes:"}),(0,s.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-gray-700",children:[(0,s.jsx)("li",{children:"Individual .txt files for each note"}),(0,s.jsx)("li",{children:"Location data and Google Maps links"}),(0,s.jsx)("li",{children:"All photos, videos, and audio recordings"}),(0,s.jsx)("li",{children:"Export summary with statistics"})]})]}),!e&&!c&&(0,s.jsxs)(n.$,{onClick:y,className:"w-full flex items-center gap-2",children:[(0,s.jsx)(C,{className:"w-4 h-4"}),"Export All Notes (",(0,f.rE)().length," notes)"]}),e&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(A.A,{className:"w-4 h-4 animate-spin text-blue-500"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Preparing export..."})]}),(0,s.jsx)(w.k,{value:l,className:"w-full"}),(0,s.jsxs)("p",{className:"text-xs text-center text-gray-500",children:[l.toFixed(0),"% complete"]})]}),c&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)($.A,{className:"w-12 h-12 mx-auto text-green-500 mb-3"}),(0,s.jsx)("h3",{className:"font-medium text-green-700",children:"Export Complete!"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Your notes have been downloaded as a ZIP file."})]}),(0,s.jsx)(n.$,{variant:"outline",onClick:()=>{i(0),d(!1)},className:"w-full",children:"Export Again"})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 bg-gray-50 p-2 rounded",children:[(0,s.jsx)(M,{className:"w-3 h-3 inline mr-1"}),"Files are named using the first 30 characters of each note plus the creation date."]})]})]})}function E(){let[e,t]=(0,r.useState)([]),[a,n]=(0,r.useState)(!0);return a?(0,s.jsx)("div",{className:"text-center",children:"Loading notes..."}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(b.l,{notes:e,onTransferComplete:()=>{console.log("Transfer completed successfully")},onNotesDeleted:()=>{n(!0),(async()=>{try{let e=(0,f.rE)().map(e=>({id:e.id,content:e.text,createdAt:e.createdAt,location:e.location}));t(e)}catch(e){console.error("Error loading notes:",e)}finally{n(!1)}})()}}),(0,s.jsx)(z,{})]})}let S=(0,c.A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),R=(0,c.A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),P=(0,c.A)("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);function L(){let[e,t]=(0,r.useState)("compose"),[a,l]=(0,r.useState)(0),i=function(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: 767px)"),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),o=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.$,{variant:"compose"===e?"default":"outline",size:i?"default":"sm",onClick:()=>t("compose"),className:i?"flex-1 flex flex-col items-center gap-1 h-auto py-2":"flex items-center gap-1",children:[(0,s.jsx)(S,{className:i?"w-5 h-5":"w-4 h-4"}),(0,s.jsx)("span",{className:i?"text-xs":"",children:"New"})]}),(0,s.jsxs)(n.$,{variant:"list"===e?"default":"outline",size:i?"default":"sm",onClick:()=>t("list"),className:i?"flex-1 flex flex-col items-center gap-1 h-auto py-2":"flex items-center gap-1",children:[(0,s.jsx)(R,{className:i?"w-5 h-5":"w-4 h-4"}),(0,s.jsx)("span",{className:i?"text-xs":"",children:"Browse"})]}),(0,s.jsxs)(n.$,{variant:"transfer"===e?"default":"outline",size:i?"default":"sm",onClick:()=>t("transfer"),className:i?"flex-1 flex flex-col items-center gap-1 h-auto py-2":"flex items-center gap-1",children:[(0,s.jsx)(P,{className:i?"w-5 h-5":"w-4 h-4"}),(0,s.jsx)("span",{className:i?"text-xs":"",children:"Transfer"})]})]});return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,s.jsxs)("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:"Notes"}),!i&&(0,s.jsx)("div",{className:"flex gap-2",children:o})]}),(0,s.jsxs)("div",{className:`flex-1 p-4 ${i?"pb-20":""}`,children:["compose"===e&&(0,s.jsx)(y,{onNoteCreated:()=>{l(e=>e+1)}}),"list"===e&&(0,s.jsx)(N,{},a),"transfer"===e&&(0,s.jsx)(E,{})]}),i&&(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 safe-bottom",children:(0,s.jsx)("div",{className:"flex gap-2",children:o})})]})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4246:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>i});var s=a(3486),r=a(159),n=a(7499);let l=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));l.displayName="Card";let i=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let o=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",r.forwardRef(({className:e,...t},a)=>(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},4735:e=>{"use strict";e.exports=require("events")},5128:(e,t,a)=>{Promise.resolve().then(a.bind(a,3210))},5851:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(3952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/ben/Documents/notes-mobile/packages/web/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ben/Documents/notes-mobile/packages/web/app/page.tsx","default")},5984:(e,t,a)=>{"use strict";a.d(t,{$:()=>c});var s=a(3486),r=a(159),n=a(3072),l=a(6353),i=a(7499);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...l},c)=>{let d=r?n.DX:"button";return(0,s.jsx)(d,{className:(0,i.cn)(o({variant:t,size:a,className:e})),ref:c,...l})});c.displayName="Button"},7499:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(4627),r=a(5855);function n(...e){return(0,r.QP)((0,s.$)(e))}},7910:e=>{"use strict";e.exports=require("stream")},8354:e=>{"use strict";e.exports=require("util")},8949:(e,t,a)=>{"use strict";a.d(t,{k:()=>i});var s=a(3486),r=a(159),n=a(4344),l=a(7499);let i=r.forwardRef(({className:e,value:t,...a},r)=>(0,s.jsx)(n.bL,{ref:r,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:(0,s.jsx)(n.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));i.displayName=n.bL.displayName},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9428:e=>{"use strict";e.exports=require("buffer")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[787,986,412,340],()=>a(2537));module.exports=s})();